<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>My blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="My blog">
<meta property="og:url" content="http://wu-yuanyi.github.io/index.html">
<meta property="og:site_name" content="My blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My blog">
  
    <link rel="alternate" href="/atom.xml" title="My blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  

</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">My blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://wu-yuanyi.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Event tracking" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/01/Event tracking/" class="article-date">
  <time datetime="2017-08-01T02:40:06.000Z" itemprop="datePublished">2017-08-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/01/Event tracking/">Event tracking</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>无埋点 = 可视化监测部署 = 所见即所得的监测部署</p>
<p>无论是监测网站，还是监测App，都必须加上监测代码或SDK，不加就搜集不到数据。</p>
<p>无论是埋点方法还是不埋点方法，要搜集数据都要加监测代码或SDK，称之为基础代码。要搜集到所有用户行为的数据，光有基础代码是不够的。无论是网站还是App(尤其是App)，总有一些特殊的用户操作行为时不能靠基础代码捕获的。</p>
<p>不能被基础代码捕获的用户操作行为，称为event(事件)。</p>
<ul>
<li>网页：Javascript、Flash、Silverlight、AJAX、各种页面插件的交互等等</li>
<li>App：包含用户点击在内的所有交互</li>
<li>凡是遵守http协议的交互（最典型的就是网页的链接），皆是可以由基础监测代码直接监测到数据的。</li>
<li>非http类型的用户交互，基础监测代码都无能为力。</li>
</ul>
<p>每一个需要监测的event互动，都被称为一个“监测点”。Web上需要的监测点较少，App上则布满了监测点。为了搜集这些监测点上的用户数据，必须部署上专用点事件监测代码(event tracking code)。</p>
<p><strong>事件监测(埋点)只有在基础代码工作的情况下才能发挥作用。</strong></p>
<p>机构为App配置无埋点监测点两种方法：</p>
<ul>
<li>手指取代鼠标，直接在手机上操作设置。</li>
<li>在电脑浏览器端操作，类似于一个模拟器。</li>
</ul>
<p><strong>全埋点</strong>：本质上和无埋点并无不同。因为无埋点就是直接对页面中所有的交互元素的用户行为进行监听。即使App或网页的开发者不需要监测点部分，无埋点也会将用户行为数据和对应的发生地信息照单全收。</p>
<p>无埋点和埋点点优劣对比</p>
<table>
<thead>
<tr>
<th style="text-align:left">优劣</th>
<th style="text-align:left">无埋点</th>
<th style="text-align:left">埋点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">是否需要加基础代码</td>
<td style="text-align:left">要</td>
<td style="text-align:left">要</td>
</tr>
<tr>
<td style="text-align:left">事件监测部署简便性</td>
<td style="text-align:left">非常简便，业务人员可以轻松操作</td>
<td style="text-align:left">复杂，需要工程师帮助</td>
</tr>
<tr>
<td style="text-align:left">事件历史数据回溯</td>
<td style="text-align:left">可以回溯</td>
<td style="text-align:left">埋点前点数据不可以回溯</td>
</tr>
<tr>
<td style="text-align:left">事件的属性数据</td>
<td style="text-align:left">常见的无埋点方法基本不可以添加额外属性</td>
<td style="text-align:left">可添加或监测数个事件属性</td>
</tr>
<tr>
<td style="text-align:left">事件的分类报告</td>
<td style="text-align:left">常见的无埋点方法基本不可以实现分类报告</td>
<td style="text-align:left">可以实现事件的分类报告</td>
</tr>
<tr>
<td style="text-align:left">无明确发生地点的时间监测</td>
<td style="text-align:left">无法监测</td>
<td style="text-align:left">可以监测</td>
</tr>
</tbody>
</table>
<ul>
<li>用户的交互行为，如果没有具体的“地点”，无埋点方法不适用。如：用户上滑屏幕时，新内容瀑布流式的底部载入。这种交互没有一个明确的监测点位置，是不可见点。在可视化事件监测设置点界面上找不到这类交互。</li>
<li>可视化的无埋点部署，能够为交互行为设置的属性非常有限。一般无埋点部署，只能给交互行为起一个名字，然后机械的记录这个交互行为发生的次数。而埋点方法可以非常好的添加event背后的属性。</li>
<li>埋点方法因为带有多个属性，用户可以轻松的通过这些属性进行分类数据报告的读取。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/08/01/Event tracking/" data-id="cj5sz7kzx00046y4mqjn20n35" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mySQL grammar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/01/mySQL grammar/" class="article-date">
  <time datetime="2017-08-01T02:13:36.000Z" itemprop="datePublished">2017-08-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/01/mySQL grammar/">MySQL grammer</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SQL基础"><a href="#SQL基础" class="headerlink" title="SQL基础"></a>SQL基础</h1><h2 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name;</div><div class="line"><span class="keyword">select</span> * <span class="keyword">from</span> table_name;</div></pre></td></tr></table></figure>
<h2 id="Distinct"><a href="#Distinct" class="headerlink" title="Distinct"></a>Distinct</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name;</div></pre></td></tr></table></figure>
<h2 id="Where"><a href="#Where" class="headerlink" title="Where"></a>Where</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name </div><div class="line"><span class="keyword">where</span> condition;</div></pre></td></tr></table></figure>
<h2 id="And-Or-Not"><a href="#And-Or-Not" class="headerlink" title="And , Or, Not"></a>And , Or, Not</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name </div><div class="line"><span class="keyword">where</span> condition1 <span class="keyword">and</span> condition2 <span class="keyword">and</span> condition3 ...;</div><div class="line"></div><div class="line"><span class="keyword">select</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name </div><div class="line"><span class="keyword">where</span> condition1 <span class="keyword">or</span> condition2 <span class="keyword">or</span> condition3 ...;</div><div class="line"></div><div class="line"><span class="keyword">select</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name </div><div class="line"><span class="keyword">where</span> <span class="keyword">not</span> condition;</div></pre></td></tr></table></figure>
<h2 id="Order-By"><a href="#Order-By" class="headerlink" title="Order By"></a>Order By</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column1, column2, ... </div><div class="line"><span class="keyword">from</span> table_name </div><div class="line"><span class="keyword">order</span> <span class="keyword">by</span> column1, column2, ... <span class="keyword">ASC</span>|<span class="keyword">DESC</span>;</div></pre></td></tr></table></figure>
<h2 id="Insert-Into"><a href="#Insert-Into" class="headerlink" title="Insert Into"></a>Insert Into</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name </div><div class="line"><span class="keyword">values</span> (value1, value2, value3, ...);</div><div class="line"></div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name (column1, column2, column3, ...) </div><div class="line"><span class="keyword">values</span> (value1, value2, value3, ...);</div></pre></td></tr></table></figure>
<h2 id="Null-Values"><a href="#Null-Values" class="headerlink" title="Null Values"></a>Null Values</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> column_names</div><div class="line"><span class="keyword">from</span> table_name</div><div class="line"><span class="keyword">where</span> column_name <span class="keyword">is</span> <span class="literal">null</span>;</div><div class="line"></div><div class="line"><span class="keyword">select</span> column_names</div><div class="line"><span class="keyword">from</span> table_name</div><div class="line"><span class="keyword">where</span> column_name <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</div></pre></td></tr></table></figure>
<h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">update</span> table_name </div><div class="line"><span class="keyword">set</span> column1 = value1, column2 = value2, ... </div><div class="line"><span class="keyword">where</span> condition;</div></pre></td></tr></table></figure>
<h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">delete</span> <span class="keyword">from</span> table_name </div><div class="line"><span class="keyword">where</span> condition;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/08/01/mySQL grammar/" data-id="cj5sz7l0500076y4mw14udm45" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-study sas" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/16/study sas/" class="article-date">
  <time datetime="2017-06-16T01:22:15.000Z" itemprop="datePublished">2017-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/16/study sas/">SAS学习心得</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="《SAS编程演义》笔记"><a href="#《SAS编程演义》笔记" class="headerlink" title="《SAS编程演义》笔记"></a>《SAS编程演义》笔记</h1><h2 id="清歌苦调两不厌：夯实基础"><a href="#清歌苦调两不厌：夯实基础" class="headerlink" title="清歌苦调两不厌：夯实基础"></a>清歌苦调两不厌：夯实基础</h2><blockquote>
<h3 id="如何让SAS自动加载永久逻辑库"><a href="#如何让SAS自动加载永久逻辑库" class="headerlink" title="如何让SAS自动加载永久逻辑库"></a>如何让SAS自动加载永久逻辑库</h3><ol>
<li>如果想要让SAS语句建立的永久库在启动后就能看到，可以把包含LIBNAME语句的程序命名为autoexe.sas，并放入和sas.exe同级的目录中，此后每次SAS启动时会自动运行autosas.exe程序。</li>
<li>通过工具按钮建立永久库时，可以在建立时勾上<em>Enable at startup</em>，下次启动SAS时就会自动加载这个永久库。</li>
</ol>
<h3 id="为什么又了数据文件还要视图"><a href="#为什么又了数据文件还要视图" class="headerlink" title="为什么又了数据文件还要视图"></a>为什么又了数据文件还要视图</h3><p>视图是依据查询语句动态生成，因此视图本身几乎不占据存储空间。利用视图可以节约硬盘空间。两者在世界内容效果方面是一样的。</p>
<h3 id="日期与时间的本质"><a href="#日期与时间的本质" class="headerlink" title="日期与时间的本质"></a>日期与时间的本质</h3><ol>
<li>日期实际存储的是距离1960年1月1日的天数</li>
<li>时间是距离凌晨的秒数</li>
</ol>
<h3 id="打破SAS命名规则"><a href="#打破SAS命名规则" class="headerlink" title="打破SAS命名规则"></a>打破SAS命名规则</h3><p>修改系统选项<code>VALIDMEMNAME</code>和<code>VALIDVARNAME</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">options VALIDMEMNAME=extend VALIDVARNAME=any;</div><div class="line">data 中文名演示;</div><div class="line">    SAS中文变量名 = &quot;YES&quot;;</div><div class="line">    SAS中文變量名 = &quot;YES&quot;;</div><div class="line">    &apos;2SAS中文变量名&apos;n = &quot;YES&quot;;</div><div class="line">    &apos;SAS空格 #@%特殊字符变量名&apos;n = &quot;YES&quot;;</div><div class="line">run;</div></pre></td></tr></table></figure></p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><ul>
<li>不等于 ^= ~= </li>
<li>两者取小 &gt;&lt;</li>
<li>两者取大 &lt;&gt;</li>
<li>连接运算符 ||</li>
<li>与 &amp; and</li>
<li>或 ! | or</li>
<li>非 ^ ~ not</li>
</ul>
<h3 id="IF-ELSE配合DO-END"><a href="#IF-ELSE配合DO-END" class="headerlink" title="IF-ELSE配合DO-END"></a>IF-ELSE配合DO-END</h3><p> 希望执行的不仅仅是一个动作，而是多个动作，此时可以在关键词THEN后面用夹板语句DO-END，把多个动作整合在DO-END中。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data male female;</div><div class="line">  set sashelp.class;</div><div class="line">       if sex=&apos;M&apos; then do; gender=&apos;Male&apos;; output male; end;</div><div class="line">  else if sex=&apos;F&apos; then do; gender=&apos;Female&apos;; output female; end;</div><div class="line">  else put &apos;Invalid sex :&apos; sex;</div><div class="line">run;</div></pre></td></tr></table></figure></p>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><ul>
<li>DO-END</li>
<li>DO-WHILE</li>
<li>DO-UNTIL<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">data random;</div><div class="line">    do i=1 to 10;</div><div class="line">        r=rannor(23);</div><div class="line">        output;</div><div class="line">    end;</div><div class="line">run;</div><div class="line"></div><div class="line">data dowhile;</div><div class="line">    i=0;</div><div class="line">    do while(i&lt;5);</div><div class="line">        i+1;</div><div class="line">        output;</div><div class="line">    end;</div><div class="line">run;</div><div class="line"></div><div class="line">data dountil;</div><div class="line">    i=0;</div><div class="line">    do until(i&gt;=5);</div><div class="line">        i+1;</div><div class="line">        output;</div><div class="line">    end;</div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="数组结构"><a href="#数组结构" class="headerlink" title="数组结构"></a>数组结构</h3><ul>
<li>数组中的变量必须有相同的数据类型</li>
<li><code>ARRAY array-name {number-of-elements} &lt;$&gt; &lt;length&gt; &lt;array-elements&gt; &lt;(initial-value-list)&gt;</code></li>
<li>元素个数可以用{*}代替，让SAS自动计数；可以指定具体的数字，如{7}；可以指定一定的数字范围，如{1:7}</li>
<li>元素名可以是变量名也可以是SAS自定义变量，如<em>ALL</em>（变量类型需相同，<em>NUMERIC</em>，<em>CHARACTER</em>，<em>TEMPORARY</em>（临时变量）</li>
<li>&lt;&gt;中的内容并非必须有。如$和length只有在数组元素为字符型时才用到。</li>
</ul>
<p>PDV与DATA步自循环<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">data demoPDV;</div><div class="line">    put &quot;第&quot; _n_ &quot;次前运行：&quot; _all_;</div><div class="line">    input ID $  Chiness  Math  English;</div><div class="line">    Sum = Chiness + Math + English;</div><div class="line">    put &quot;第&quot; _n_ &quot;次后运行：&quot; _all_;</div><div class="line">datalines;</div><div class="line">S001 80 99 93</div><div class="line">S002 90 85 95</div><div class="line">S003 83 88 81</div><div class="line">;</div><div class="line">run;</div></pre></td></tr></table></figure></p>
<h3 id="与"><a href="#与" class="headerlink" title="@与@@"></a>@与@@</h3><ul>
<li>当DATALINES数据行里要读入的数据列数=要读入的变量数，也就是说一行就是一条观测时，无尾。</li>
<li>当DATALINES数据行里要读入的数据列数&gt;要读入的变量数，而且是整数倍时，也就是说一行=K*数条观测(K为&gt;=1的整数)，用@@。</li>
<li>当一个DATA步里有多个INPUT语句时，我们需要单尾@。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">* 数据列数=变量数</div><div class="line">data test1;</div><div class="line">    input id x y z;</div><div class="line">    datalines;</div><div class="line">    1 98 99 97</div><div class="line">    2 93 91 92</div><div class="line">    ;</div><div class="line">run;</div><div class="line"></div><div class="line">* 数据列数=变量数，多个input语句</div><div class="line">data test2;</div><div class="line">    input id@;</div><div class="line">    input x@;</div><div class="line">    input y@;</div><div class="line">    input z@;</div><div class="line">    datalines;</div><div class="line">    1 98 99 97</div><div class="line">    2 93 91 92</div><div class="line">    ;</div><div class="line">run;</div><div class="line"></div><div class="line">* 数据列数=k*变量数</div><div class="line">data test3;</div><div class="line">    input id x y z @@;</div><div class="line">    datalines;</div><div class="line">    1 98 99 97 2 93 91 92;</div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>无尾Hold不住立即跳</li>
<li>一尾(@)Hold住当前INPUT语句不跳，但若刚好是DATA步最后一个INPUT语句，跳。</li>
<li>二尾(@@)打死都不跳。</li>
<li>最后，无论多少尾，数据行末尾必定自动跳。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">data test;</div><div class="line">    input x @;</div><div class="line">    input y;</div><div class="line">    input @@;</div><div class="line">datalines;</div><div class="line">1 2 3</div><div class="line">4 5 6</div><div class="line">7</div><div class="line">;</div><div class="line">run;</div><div class="line"></div><div class="line">data test;</div><div class="line">    input x;</div><div class="line">    input y @@;</div><div class="line">    input z @;</div><div class="line">datalines;</div><div class="line">1 2 3</div><div class="line">4 5 6</div><div class="line">7</div><div class="line">;</div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="苔点狂吞纳线青"><a href="#苔点狂吞纳线青" class="headerlink" title="苔点狂吞纳线青"></a>苔点狂吞纳线青</h2><blockquote>
<h3 id="LIBNAME语句访问DBMS数据文件"><a href="#LIBNAME语句访问DBMS数据文件" class="headerlink" title="LIBNAME语句访问DBMS数据文件"></a>LIBNAME语句访问DBMS数据文件</h3><p> <strong>LIBNAME</strong> <em>libref</em> <em>engine-name</em> <em><sas access-connection-options=""></sas></em> <em><sas access-libname-options=""></sas></em>;</p>
<ul>
<li>libref: 逻辑库名，其实是存放数据表和视图的DBMS数据库、架构、服务器端别名</li>
<li>engine-name: 引擎名,不同的DMBS数据文件需要指定不同的引擎名，入oracle、db2等</li>
<li>SAS/ACCESS 连接选项，常用的如用户名，密码等，不同的DMBS数据文件会有所不同</li>
<li>SAS／ACCESS 逻辑库选项，控制SAS处理DBMS对象的方式，不同的DBMS数据文件会有所不同</li>
</ul>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/06/16/study sas/" data-id="cj5sz7l0800086y4mpjs8eqm8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-利用python 3进行数据分析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/16/利用python 3进行数据分析/" class="article-date">
  <time datetime="2017-04-16T11:14:54.000Z" itemprop="datePublished">2017-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/16/利用python 3进行数据分析/">利用python 3.6进行数据分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="环境部署"><a href="#环境部署" class="headerlink" title="环境部署"></a>环境部署</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">pip3 install numpy</div><div class="line">pip3 install scipy</div><div class="line">pip3 install pandas</div><div class="line">pip3 install matplotlib</div></pre></td></tr></table></figure>
<h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy, matplotlib</div><div class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> pet</div><div class="line">plt.plot(numpy.arange(<span class="number">10</span>))</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<h1 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">import</span> scipy</div><div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div><div class="line"><span class="keyword">import</span> json</div><div class="line"></div><div class="line">records = [json.loads(line) <span class="keyword">for</span> line <span class="keyword">in</span> open(path)]</div><div class="line">time_zones = [rec[<span class="string">'tz'</span>] <span class="keyword">for</span> rec <span class="keyword">in</span> records <span class="keyword">if</span> <span class="string">'tz'</span> <span class="keyword">in</span> rec]</div><div class="line"></div><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_counts2</span><span class="params">(sequence)</span>:</span></div><div class="line">    counts = defaultdict(int)</div><div class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> sequence:</div><div class="line">        counts[x] +=<span class="number">1</span></div><div class="line">    <span class="keyword">return</span> counts</div><div class="line"><span class="comment"># sequence=[0,0,0,0,1,1,1,1,1]</span></div><div class="line"><span class="comment"># d = get_counts2(sequence)</span></div><div class="line"><span class="comment"># &gt;&gt;&gt; defaultdict(int, &#123;0: 4, 1: 5&#125;)</span></div><div class="line"><span class="comment"># dcit(d.items())</span></div><div class="line"><span class="comment"># &gt;&gt;&gt; &#123;0: 4, 1: 5&#125;</span></div><div class="line"></div><div class="line">counts = get_counts(time_zones)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">top_counts</span><span class="params">(count_dcit, n=<span class="number">10</span>)</span>:</span></div><div class="line">   value_key_pairs = [(count, tz) <span class="keyword">for</span> tz, count <span class="keyword">in</span> count_dict.items()]</div><div class="line">   value_key_pairs.sort()</div><div class="line">   <span class="keyword">return</span> value_key_pairs[-n:]</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/04/16/利用python 3进行数据分析/" data-id="cj5sz7l0900096y4mx6m25p59" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-happybase" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/11/happybase/" class="article-date">
  <time datetime="2017-04-11T08:59:37.000Z" itemprop="datePublished">2017-04-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/11/happybase/">Start with happybase on Mac</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h1><p>You have Java and the latest JDK on your OS X system.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew cask install Java</div></pre></td></tr></table></figure></p>
<h1 id="Install-and-config-hadoop"><a href="#Install-and-config-hadoop" class="headerlink" title="Install and config hadoop"></a>Install and config hadoop</h1><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install hadoop</div></pre></td></tr></table></figure>
<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><h3 id="Edit-hadoop-env-sh"><a href="#Edit-hadoop-env-sh" class="headerlink" title="Edit hadoop-env.sh"></a>Edit hadoop-env.sh</h3><p>The file can be located at <strong>/usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop/hadoop-env.sh</strong> where 2.7.3 is the hadoop version.</p>
<p>Find the line with<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export HADOOP_OPTS=&quot;$HADOOP_OPTS -Djava.net.preferIPv4Stack=true&quot;</div></pre></td></tr></table></figure></p>
<p>and change it to<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export HADOOP_OPTS=&quot;$HADOOP_OPTS -Djava.net.preferIPv4Stack=true -Djava.security.krb5.realm= -Djava.security.krb5.kdc=&quot;</div></pre></td></tr></table></figure></p>
<h3 id="Edit-Core-site-xml"><a href="#Edit-Core-site-xml" class="headerlink" title="Edit Core-site.xml"></a>Edit Core-site.xml</h3><p>The file can be located at <strong>/usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop/core-site.xml</strong> .</p>
<p>Edit configuration at last.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/usr/local/Cellar/hadoop/hdfs/tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>A base for other temporary directories.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.default.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://localhost:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="Edit-hdfs-site-xml"><a href="#Edit-hdfs-site-xml" class="headerlink" title="Edit hdfs-site.xml"></a>Edit hdfs-site.xml</h3><p>The file can be located at <strong>/usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop/mapred-site.xml</strong> and by default will be blank. You can copy and change mapred-site.xml.template.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapred.job.tracker<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>localhost:9010<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="Edit-hdfs-site-xml-1"><a href="#Edit-hdfs-site-xml-1" class="headerlink" title="Edit hdfs-site.xml"></a>Edit hdfs-site.xml</h3><p>The file can be located at <strong>/usr/local/Cellar/hadoop/2.7.3/libexec/etc/hadoop/hdfs-site.xml</strong> .</p>
<p>Edit configuration at last<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="Alias"><a href="#Alias" class="headerlink" title="Alias"></a>Alias</h3><p>To simplify life edit your ~/.bash_profile using vim and add the following two commands.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alias hstart=&quot;/usr/local/Cellar/hadoop/2.6.0/sbin/start-dfs.sh;/usr/local/Cellar/hadoop/2.6.0/sbin/start-yarn.sh&quot;</div><div class="line">alias hstop=&quot;/usr/local/Cellar/hadoop/2.6.0/sbin/stop-yarn.sh;/usr/local/Cellar/hadoop/2.6.0/sbin/stop-dfs.sh&quot;</div></pre></td></tr></table></figure></p>
<p>Edit your <em>~/.bashrc</em> or <em>~/.zshrc</em> using vim and add the following two commands<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">. ~/.bash_profile</div></pre></td></tr></table></figure></p>
<p>and excute<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ source ~/.bashrc</div><div class="line">$ source ~/.zshrc</div></pre></td></tr></table></figure></p>
<p>in the terminal to update.<br>Before we can run Hadoop we first need to format the HDFS using<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hdfs namenode -format</div></pre></td></tr></table></figure></p>
<h2 id="SSH-Localhost"><a href="#SSH-Localhost" class="headerlink" title="SSH Localhost"></a>SSH Localhost</h2><p>Nothing needs to be done here if you have already generated ssh keys. To verify just check for the existance of <em>~/.ssh/id_rsa</em> and the <em>~/.ssh/id_rsa.pub</em> files. If not the keys can be generated using<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa</div></pre></td></tr></table></figure></p>
<h3 id="Enable-Remote-Login"><a href="#Enable-Remote-Login" class="headerlink" title="Enable Remote Login"></a>Enable Remote Login</h3><p>“System Preferences” -&gt; “Sharing”. Check “Remote Login”</p>
<h3 id="Authorize-SSH-Keys"><a href="#Authorize-SSH-Keys" class="headerlink" title="Authorize SSH Keys"></a>Authorize SSH Keys</h3><p>To allow your system to accept login, we have to make it aware of the keys that will be used<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</div></pre></td></tr></table></figure></p>
<p>Let’s try to login.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ ssh localhost</div><div class="line">Last login: Fri Mar  6 20:30:53 2015</div><div class="line">$ exit</div></pre></td></tr></table></figure></p>
<h2 id="Running-Hadoop"><a href="#Running-Hadoop" class="headerlink" title="Running Hadoop"></a>Running Hadoop</h2><p>Now we can run Hadoop just by typing<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hstart</div></pre></td></tr></table></figure></p>
<p>and stopping using<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hstop</div></pre></td></tr></table></figure></p>
<h2 id="Good-to-know"><a href="#Good-to-know" class="headerlink" title="Good to know"></a>Good to know</h2><p>We can access the Hadoop web interface by connecting to<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">Resource Manager: http://localhost:50070</div><div class="line">JobTracker: http://localhost:8088</div><div class="line">Specific Node Information: http://localhost:8042</div><div class="line"></div><div class="line">Command</div><div class="line">$ hstart</div><div class="line">$ jps </div><div class="line">32384 NameNode</div><div class="line">32712 ResourceManager</div><div class="line">32587 SecondaryNameNode</div><div class="line">32859 Jps</div><div class="line">32476 DataNode</div><div class="line">32812 NodeManager</div><div class="line"># hstop</div><div class="line"></div><div class="line">$ yarn  // For resource management more information than the web interface. </div><div class="line">$ mapred  // Detailed information about jobs</div></pre></td></tr></table></figure></p>
<h1 id="Install-zookeeper"><a href="#Install-zookeeper" class="headerlink" title="Install zookeeper"></a>Install zookeeper</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install zookeeper</div></pre></td></tr></table></figure>
<h1 id="Install-hbase"><a href="#Install-hbase" class="headerlink" title="Install hbase"></a>Install hbase</h1><h2 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install hbase</div></pre></td></tr></table></figure>
<h2 id="Alias-1"><a href="#Alias-1" class="headerlink" title="Alias"></a>Alias</h2><p>To simplify life edit your ~/.bash_profile using vim and add the following two commands.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alias hbstart=&quot;/usr/local/Cellar/hbase/1.2.2/bin/start-hbase.sh&quot;</div><div class="line">alias hbstop=&quot;/usr/local/Cellar/hbase/1.2.2/bin/stop-hbase.sh&quot;</div></pre></td></tr></table></figure></p>
<h2 id="Good-to-know-1"><a href="#Good-to-know-1" class="headerlink" title="Good to know"></a>Good to know</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ hstart</div><div class="line">$ hbstart</div><div class="line">$ jps</div><div class="line">32384 NameNode</div><div class="line">33024 Jps</div><div class="line">32967 HMaster</div><div class="line">32712 ResourceManager</div><div class="line">32587 SecondaryNameNode</div><div class="line">32476 DataNode</div><div class="line">32812 NodeManager</div><div class="line">$ hbstop</div><div class="line">$ hstop</div></pre></td></tr></table></figure>
<h1 id="Install-happybase"><a href="#Install-happybase" class="headerlink" title="Install happybase"></a>Install happybase</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install happybase</div></pre></td></tr></table></figure>
<h1 id="Examplesfor-happybase"><a href="#Examplesfor-happybase" class="headerlink" title="Examplesfor happybase"></a>Examplesfor happybase</h1><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> happybase</div><div class="line">connection = happybase.Connection(<span class="string">'localhost'</span>,table_prefix=<span class="string">'namespace'</span>)</div><div class="line"><span class="comment"># Starting with HBase 0.94, the Thrift server optionally uses a framed transport.</span></div><div class="line"><span class="comment"># table_prefix is similar to namespace</span></div><div class="line">connection.create_table(<span class="string">'data'</span>,&#123;<span class="string">'p'</span>:dict()&#125;,)</div><div class="line">connection.tables()</div><div class="line"></div><div class="line">table = connection.table(<span class="string">'data'</span>)</div><div class="line"></div><div class="line"><span class="comment"># input one row</span></div><div class="line">table.put(<span class="string">'o'</span>, &#123;<span class="string">'p:label'</span>: <span class="string">'0'</span>, <span class="string">'p:version'</span>: <span class="string">'201701'</span>, <span class="string">'p:weight'</span>: <span class="string">'0.4'</span>&#125;)</div><div class="line"></div><div class="line"><span class="comment"># input rows</span></div><div class="line"><span class="keyword">with</span> table.batch() <span class="keyword">as</span> bat:</div><div class="line">    bat.put(<span class="string">'1'</span>,&#123;<span class="string">'p:label'</span>: <span class="string">'1'</span>, <span class="string">'p:version'</span>: <span class="string">'201702'</span>, <span class="string">'p:weight'</span>: <span class="string">'0.5'</span>&#125;)</div><div class="line">    bat.put(<span class="string">'2'</span>,&#123;<span class="string">'p:label'</span>: <span class="string">'2'</span>, <span class="string">'p:version'</span>: <span class="string">'201703'</span>, <span class="string">'p:weight'</span>: <span class="string">'0.6'</span>&#125;)</div><div class="line"></div><div class="line"><span class="comment"># scan datas stored by batch with timestamp</span></div><div class="line">scan(row=<span class="string">'2'</span>,timestamnp=<span class="number">201704</span>) <span class="comment">#must larger than stored timestamp</span></div><div class="line"></div><div class="line"><span class="comment"># scan whole table</span></div><div class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> table.scan():</div><div class="line">    <span class="keyword">print</span> key, value</div><div class="line"></div><div class="line"><span class="comment"># scan with timestamp</span></div><div class="line">table.put(<span class="string">'2'</span>, &#123;<span class="string">'p:label'</span>: <span class="string">'233'</span>, <span class="string">'p:version'</span>: <span class="string">'2017234'</span>, <span class="string">'p:weight'</span>: <span class="string">'0.9'</span>&#125;,timestamp=<span class="number">201704</span>)</div><div class="line">table.row(<span class="string">'2'</span>,timestamp=<span class="number">201704</span>)</div><div class="line"></div><div class="line"><span class="comment"># enable and disable tables</span></div><div class="line">connection.enable_table(<span class="string">'data'</span>)</div><div class="line">connection.disable_table(<span class="string">'data'</span>)</div><div class="line"></div><div class="line"><span class="comment"># delete table</span></div><div class="line">connection.delete_table(<span class="string">'data'</span>)</div></pre></td></tr></table></figure>
<p>##Problems need to solve</p>
<h4 id="Connect-again"><a href="#Connect-again" class="headerlink" title="Connect again"></a>Connect again</h4><p>Need to coonect again after error or don’t use after second<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">connection = happybase.Connection(<span class="string">'localhost'</span>)</div><div class="line">table = connection.table(<span class="string">'namespace_data'</span>)</div></pre></td></tr></table></figure></p>
<h3 id="TTransportException"><a href="#TTransportException" class="headerlink" title="TTransportException"></a>TTransportException</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/usr/local/lib/python2.7/site-packages/thriftpy/transport/socket.pyc in read(self, sz)</div><div class="line">    123         if len(buff) == 0:</div><div class="line">    124             raise TTransportException(type=TTransportException.END_OF_FILE,</div><div class="line">--&gt; 125                                       message='TSocket read 0 bytes')</div><div class="line">    126         return buff</div><div class="line">    127</div><div class="line"></div><div class="line">TTransportException: TTransportException(message='TSocket read 0 bytes', type=4)</div></pre></td></tr></table></figure>
<h3 id="Broken-pipe"><a href="#Broken-pipe" class="headerlink" title="Broken pipe"></a>Broken pipe</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.pyc in meth(name, self, *args)</div><div class="line">    226</div><div class="line">    227 def meth(name,self,*args):</div><div class="line">--&gt; 228     return getattr(self._sock,name)(*args)</div><div class="line">    229</div><div class="line">    230 for _m in _socketmethods:</div><div class="line"></div><div class="line">error: [Errno 32] Broken pipe</div></pre></td></tr></table></figure>
<h3 id="Thrift-closed"><a href="#Thrift-closed" class="headerlink" title="Thrift closed"></a>Thrift closed</h3><p>thrift closed selfly after one hour, need to config it.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">2017-04-10 09:38:31,614 INFO  [main] util.VersionInfo: HBase 1.2.2</div><div class="line">2017-04-10 09:38:31,615 INFO  [main] util.VersionInfo: Source code repository git://asf-dev/home/busbey/projects/hbase revision=3f671c1ead70d249ea4598f1bbcc5151322b3a13</div><div class="line">2017-04-10 09:38:31,615 INFO  [main] util.VersionInfo: Compiled by busbey on Fri Jul  1 08:28:55 CDT 2016</div><div class="line">2017-04-10 09:38:31,615 INFO  [main] util.VersionInfo: From source with checksum 7ac43c3d2f62f134b2a6aa1a05ad66ac</div><div class="line">2017-04-10 09:38:31,888 INFO  [main] thrift.ThriftServerRunner: Using default thrift server type</div><div class="line">2017-04-10 09:38:31,888 INFO  [main] thrift.ThriftServerRunner: Using thrift server type threadpool</div><div class="line">2017-04-10 09:38:31,920 WARN  [main] util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</div><div class="line"></div><div class="line"></div><div class="line">2017-04-10 10:38:32,580 INFO  [ConnectionCache_ChoreService_1] client.ConnectionManager$HConnectionImplementation: Closing master protocol: MasterService</div><div class="line">2017-04-10 10:38:32,581 INFO  [ConnectionCache_ChoreService_1] client.ConnectionManager$HConnectionImplementation: Closing zookeeper sessionid=0x15b558148f70006</div><div class="line">2017-04-10 10:38:32,588 INFO  [ConnectionCache_ChoreService_1] zookeeper.ZooKeeper: Session: 0x15b558148f70006 closed</div><div class="line">2017-04-10 10:38:32,588 INFO  [thrift-worker-2-EventThread] zookeeper.ClientCnxn: EventThread shut down</div></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">152</span>]: table.row(<span class="string">'66613341731'</span>,include_timestamp=<span class="keyword">True</span>)</div><div class="line">Out[<span class="number">152</span>]: &#123;<span class="string">'p:1'</span>: (<span class="string">'0.13'</span>, <span class="number">2017</span>)&#125;</div><div class="line"></div><div class="line">In [<span class="number">156</span>]: table.row(<span class="string">'66613341731'</span>,timestamp=<span class="number">2018</span>, include_timestamp=<span class="keyword">True</span>)</div><div class="line">Out[<span class="number">156</span>]: &#123;<span class="string">'p:1'</span>: (<span class="string">'0.13'</span>, <span class="number">2017</span>)&#125;</div><div class="line"></div><div class="line">In [<span class="number">157</span>]: table.row(<span class="string">'66613341731'</span>,timestamp=<span class="number">2017</span>, include_timestamp=<span class="keyword">True</span>)</div><div class="line">Out[<span class="number">157</span>]: &#123;&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/04/11/happybase/" data-id="cj5sz7l0300066y4myyryt9sy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-通过运动传感器来追踪移动网页用户：攻击和防御" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/27/通过运动传感器来追踪移动网页用户：攻击和防御/" class="article-date">
  <time datetime="2017-03-27T12:47:24.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/27/通过运动传感器来追踪移动网页用户：攻击和防御/">通过运动传感器来追踪移动网页用户：攻击和防御</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文是2016年NDSS会议，Tracking Mobile Web Users Through Motion Sensors: Attacks and Defenses的笔记<br><a href="https://www.internetsociety.org/sites/default/files/blogs-media/tracking-mobile-web-users-through-motion-sensors-attacks-defenses.pdf" target="_blank" rel="external">原文链接</a></p>
<h2 id="1-摘要"><a href="#1-摘要" class="headerlink" title="1.摘要"></a>1.摘要</h2><p>通过检测传感器信号中的异常（由制造中的缺陷带来的，就像人类的指纹一样），可以高精度地唯一识别一台设备（手机）。网站的发布者和广告商可以利用这一特性，通过网页、广告、访问来跟踪用户。</p>
<p>攻击方法：</p>
<ul>
<li>用听不到的音频去激发加速度计和陀螺仪，以得到包含异常的信号。因为是基于物理设备，所有类似清理cookie和隐私模式无法防御这种攻击</li>
</ul>
<p>防御手段：</p>
<ul>
<li>校准传感器，消除异常信号。<ol>
<li>加速度计很容易</li>
<li>陀螺仪校准需要特殊的设备，并且手动校准不是一个有效的方法。</li>
</ol>
</li>
<li>添加噪声进行混淆是更有效的方法<ol>
<li>大量添加和天然异常相似的噪声</li>
<li>在更大的量级上的做法：增加临时干扰来混淆主要特征的频率</li>
</ol>
</li>
</ul>
<h2 id="2-数字指纹背景"><a href="#2-数字指纹背景" class="headerlink" title="2.数字指纹背景"></a>2.数字指纹背景</h2><ol>
<li>美国政府早在1960年，就使用独特的传输特征来跟踪移动发射器。之后还成功利用了无线电信号的频谱特征来区分发射器。</li>
<li>利用网卡（NICs）制造上微小的缺陷，分析发射信号的无线电频率</li>
<li>利用独特且不变的电脑时钟偏移，通过TCP和ICMP的时间戳获取</li>
<li>不同的设备会有不同的软件安装基础</li>
</ol>
<h4 id="浏览器数字指纹"><a href="#浏览器数字指纹" class="headerlink" title="浏览器数字指纹"></a>浏览器数字指纹</h4><ol>
<li>cookie（清除cookie，隐私浏览模式）</li>
<li>枚举浏览器的字体和其他浏览器特征（渲染引擎，对于不同JS引擎的表现基准）</li>
<li>UDID和IEME需要特殊的权限</li>
</ol>
<h4 id="传感器数字指纹"><a href="#传感器数字指纹" class="headerlink" title="传感器数字指纹"></a>传感器数字指纹</h4><ol>
<li>利用麦克风和扬声器，这需要高权限</li>
<li>Bojinov利用加速度计（需要用户校准加速度计）</li>
<li>Dey利用机器学习的方法分析加速度计（利用手机振动）</li>
<li>本文利用了加速度计和陀螺仪。</li>
</ol>
<p>Song提出，降低加速度计的精度来防御窃听。例如报告1g的加速度来隐藏微小的变化值。但是这个方法对于陀螺仪来说，是不够的。</p>
<h2 id="3-运动传感器说明"><a href="#3-运动传感器说明" class="headerlink" title="3.运动传感器说明"></a>3.运动传感器说明</h2><p>在电子机械结构上的半点瑕疵都会产生跨芯片的特质。</p>
<ul>
<li>加速度计：测量的是固有加速度（万有引力作用下的量子的稳定速度）而不是坐标加速度。查分电容正比于所施加的加速度。在制造的时候产生的结构电极间的丝毫隙差会影响产生的电容。电-机械结构中微小的不精确，导致了加速度计芯片微小的不精确。</li>
<li>陀螺仪：使用科里奥利效应来测量角速度。角速度w被施加重量为m的移动质量，并且速度为v，物体会受一个垂直于旋转轴线和速度方向的科里奥利力F=-2mw×v。通过测量陀螺仪内震动已知质量的科里奥利力，可以算出角速度。震动会改变电容，转化成电压信号来测量科里奥利力。</li>
</ul>
<h2 id="4-特征和分类算法"><a href="#4-特征和分类算法" class="headerlink" title="4.特征和分类算法"></a>4.特征和分类算法</h2><h4 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h4><p>加速度：设a(t)=(a<sub>x</sub>, a<sub>y</sub>, a<sub>z</sub>)，使|a(t)| = √(a<sub>x</sub><sup>2</sup>, a<sub>y</sub><sup>2</sup>, a<sub>z</sub><sup>2</sup>)。<br>虽然丢弃一些信息，但是使得加速度不依赖于设备的方向。（即使是静止的设备，摆放的方式不同，在三个轴上会有很大的差异，即+-1g）</p>
<p>角速度：w(t)=(w<sub>x</sub>, w<sub>y</sub>, w<sub>z</sub>)</p>
<h4 id="时间和频谱特征"><a href="#时间和频谱特征" class="headerlink" title="时间和频谱特征"></a>时间和频谱特征</h4><p>选取了10个时间，15个频谱特征。这些特征在过去的研究中已经得到很好的证明。</p>
<table>
<thead>
<tr>
<th>类别</th>
<th>特征</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>时间</td>
<td>Mean</td>
<td>不同时间戳下信号强度的均值</td>
</tr>
<tr>
<td></td>
<td>Standard Deviation</td>
<td>信号强度的标准偏差</td>
</tr>
<tr>
<td></td>
<td>Average Deviation</td>
<td>均值的平均偏差</td>
</tr>
<tr>
<td></td>
<td>Skewness</td>
<td>偏态，均值非对称分布的度量</td>
</tr>
<tr>
<td></td>
<td>Kurtosis</td>
<td>峰度，分布平坦或尖刻的度量</td>
</tr>
<tr>
<td></td>
<td>RMS</td>
<td>在各种时间戳下信号强度的平方的算术均方根</td>
</tr>
<tr>
<td></td>
<td>Max</td>
<td>信号强度的最大值</td>
</tr>
<tr>
<td></td>
<td>Min</td>
<td>信号强度的最小值</td>
</tr>
<tr>
<td></td>
<td>ZCR</td>
<td>信号由正变负或由负变正的速度</td>
</tr>
<tr>
<td></td>
<td>Non-Negative count</td>
<td>非负值的数量</td>
</tr>
<tr>
<td>频率</td>
<td>Spectral Centroid</td>
<td>频谱质心：表示功率谱分布的质心</td>
</tr>
<tr>
<td></td>
<td>Spectral Spread</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Skewness</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Kurtosis</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Entropy</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Flatness</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Brightness</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Rolloff</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Roughness</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Irregularity</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral RMS</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Low-Energy-Rate</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral flux</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Attack Time</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Spectral Attack Slope</td>
<td>谱峰的平均坡度</td>
</tr>
</tbody>
</table>
<h4 id="分类算法和指标"><a href="#分类算法和指标" class="headerlink" title="分类算法和指标"></a>分类算法和指标</h4><p>监督学习：支持向量机，朴素贝叶斯分类，多级决策树，K近邻，二次判别分析分类器，Bagged Decision Trees (Matlab’s Treebagger model)</p>
<p>评价指标：Precision（精度），Recall，F-Score（前两者的调和平均）</p>
<ul>
<li>Pr<sub>i</sub> = TP<sub>i</sub> / ( TP<sub>i</sub> + FP<sub>i</sub> )</li>
<li>Re<sub>i</sub> = TP<sub>i</sub> / ( TP<sub>i</sub> + FN<sub>i</sub> )</li>
<li>F<sub>i</sub> = ( 2 × Pr<sub>i</sub> × Re<sub>i</sub> ) / ( Pr<sub>i</sub> + Re<sub>i</sub> )</li>
</ul>
<p>一个保守的分类器，为了较高的精度，会有较低的Recall。反之亦然。为了获得系统的总体表现，论文计算均值</p>
<ul>
<li>AvgPr = ( sum<sup>n</sup><sub>i=1</sub>Pr<sub>i</sub> ) / n</li>
<li>AvgRe = ( sum<sup>n</sup><sub>i=1</sub>Re<sub>i</sub> ) / n</li>
<li>AvgF = ( 2 × Pr<sub>i</sub> × Re<sub>i</sub> ) / ( Pr<sub>i</sub> + Re<sub>i</sub> )</li>
</ul>
<h2 id="5-数字指纹评价"><a href="#5-数字指纹评价" class="headerlink" title="5.数字指纹评价"></a>5.数字指纹评价</h2><h4 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h4><ol>
<li>利用附录A中的JavaScript代码采集数据。但是受底层操作系统的限制，通过浏览器采集样本的最大频率要比硬件允许的低。</li>
<li>几种浏览器中选择了google浏览器（样本频率100Hz，允许accelerometer和gyroscope）。</li>
<li>实验设备有iPhone5，iPhone5s，Nexus S，Galaxy S3，Galaxy S2。背景声音设置为无声，20kHz的超声波，流行音乐。</li>
<li>每种设置收集10个样本，大约5-8秒有价值的数据。</li>
<li>没有特殊提及，手机是放在静止平面上的，后有考虑了用户手持的状态。</li>
</ol>
<h4 id="特征的探索和选择"><a href="#特征的探索和选择" class="headerlink" title="特征的探索和选择"></a>特征的探索和选择</h4><p>并不是使用所有特征就行，因为它们之间精度不同，甚至有些是有冲突的。时间特征不需要转换数据流，频谱特征先将不等间隔的数据流转换为用三次样条插值固定间隔的数据流。在8khz采样速率进行插值。利用MIRtoolbox和Libxtract提取频谱特征。利用FEAST toolbox和JMI criterion找最佳组合。<br>选取的70个特征中，21个来自加速度计，49个来自陀螺仪。时间26个，频谱44个。</p>
<h4 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h4><ul>
<li><p>实验环境：实验结果还是不错的，声音激活对精确度的效果不明显，但是后面会讲到却可以很好的应对传感器校准或混淆。</p>
</li>
<li><p>公共场合:效果也还可以，90%的精确度</p>
</li>
</ul>
<h4 id="敏感性分析"><a href="#敏感性分析" class="headerlink" title="敏感性分析"></a>敏感性分析</h4><ul>
<li>设备数量的不同：设备增多，准确度会下降。不过亦然能保持在90%以上。</li>
<li>训练集大小不同：训练集比测试集从2:8到8:2，精确度从98%升到99%。</li>
<li>温度的影响：气温变化有10%的影响。</li>
<li>时间稳定性：有影响，精度仍在90%以上。</li>
</ul>
<h2 id="6-解决方法"><a href="#6-解决方法" class="headerlink" title="6.解决方法"></a>6.解决方法</h2><h4 id="校准"><a href="#校准" class="headerlink" title="校准"></a>校准</h4><p>Bojinov的仿射误差模型：a<sup>M</sup>(测量值) = g(放大作用) * a(真实值) + o(误差)</p>
<p>在所有特征中，均值是传感器数据流最能区别的特征，和偏差紧密相关。</p>
<p><strong>校准加速器：</strong> 测量值=偏差+增益误差*真实值</p>
<p>计算每个轴上的偏差和增益误差，需要测量该轴正反两个方向的数值。举Z轴的例子：S<sub>Z</sub> = (a<sup>M</sup><sub>Z+</sub> - a<sup>M</sup><sub>Z-</sub>) / 2g，O<sub>Z</sub> = (a<sup>M</sup><sub>Z+</sub> + a<sup>M</sup><sub>Z-</sub>) / 2</p>
<p><strong>校准陀螺仪：</strong> 测量值=偏差+增益误差*真实值</p>
<p>诱导固定的角度变化，可以算出增益误差。保持设备固定，即可算出偏差。 <em>当设备旋转固定角度时，测量值往往偏离真实值。所以计算出的结果，只是实际值的近似值</em>  这会影响任意陀螺仪角位移的测量系统。举Z轴的例子，O<sub>i</sub> = (θ<sup>M</sup><sub>i+</sub> + θ<sup>M</sup><sub>i-</sub>) / (t<sub>1</sub> + t<sub>2</sub>)，S<sub>i</sub> = (θ<sup>M</sup><sub>i+</sub> - θ<sup>M</sup><sub>i-</sub> - O<sub>i</sub>(t<sub>1</sub> - t<sub>2</sub>)) / 2π</p>
<p><strong>校准过的数据的数字指纹：</strong><br>校准对加速度计效果拔群，对陀螺仪效果几乎看不出来。校准之后，音频激发终于对精度有了一个小提升。总的来说，以精准测量为前提的话，校准是个有前途的技术。所以厂家处于保护用户隐私的考虑，最好出厂前校准一下。</p>
<h4 id="数据混淆"><a href="#数据混淆" class="headerlink" title="数据混淆"></a>数据混淆</h4><p>和校准相比，混淆增加了额外的噪声，对传感器的使用有负面影响</p>
<ul>
<li>Uniform noise：有范围的最高熵</li>
<li>Laplace noise：由不同的微分隐私启发最高熵</li>
<li>White noise：影响所有方面的信号</li>
</ul>
<p><strong>均匀噪声</strong></p>
<p><strong><em>I.基本混淆</em></strong></p>
<ul>
<li><p>首先：考虑在之前我们观测到的校准误差相似的范围内添加小规模的混淆。在该范围内添加噪声相当于切换到了一个不同的（错误的）校准，因此给用户的影响最小。加速度计的偏差范围[-0.5,0.5]，陀螺仪的偏差范围[-0.1,0.1]，增益范围[0.95,1.05]。在范围内，随机均匀混淆。有很明显的作用（各种场景下降低了7%-42%）。同时音频刺激有明显效果，应该是一旦主要特征被混淆了，它显著影响次要特征开始发挥作用。</p>
</li>
<li><p>然后：研究发现，对于越大的数据集，混淆作用月明显。</p>
</li>
</ul>
<p><strong><em>II.增加混淆范围</em></strong></p>
<p>扩大混淆范围是可以降低精度，但是收益递减。说明简单的混淆原始数据，不足以隐藏所有独特的特征。到目前为止，仅仅操纵信号值，没有改变任何频率特征，所以分类器还能利用频谱特征来唯一区分各个设备。</p>
<p><strong><em>III.增强混淆</em></strong></p>
<p>主要的思路是，概率地将当前数据点的修改版本插在在过去时间戳和当前时间戳之间，时间戳本身是随机选择的。这会影响到数据的三次样条插值，进而影响从数据流中提取的频谱特征。</p>
<p><strong><em>IV影响</em></strong></p>
<p>利用计步器程序（利用加速器计来算步数）来分析影响。校准，基本混淆，增加范围混淆对计步器程序影响很小，但是增强混淆的影响很大，因此需要寻找新的混淆方式。</p>
<p><strong>拉普拉斯噪声在效用上的影响</strong></p>
<p>采用一种类似的differential privacy方法,在拉普拉斯分布中随机选择偏差和增益误差。<br>能在隐私和效用之间取得一个较好的平衡。</p>
<p><strong>白噪声在效用上的影响</strong></p>
<p>增加白噪声会有严重的后果，即使是高信噪比。</p>
<h2 id="7-缺陷"><a href="#7-缺陷" class="headerlink" title="7.缺陷"></a>7.缺陷</h2><ol>
<li>实验设备的数量不够多，但是有在真实环境下的测试。</li>
<li>校准陀螺仪做的不够好，但是证明了手动校准是容易出错的。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/03/27/通过运动传感器来追踪移动网页用户：攻击和防御/" data-id="cj5sz7l0a000a6y4m38jbgyc3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Click Fraud" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/27/Click Fraud/" class="article-date">
  <time datetime="2017-03-27T12:47:24.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/27/Click Fraud/">CLick Fraud</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>PPC(Pay Per Click) == CPC(Cost Per Click)<br>Click Fraud: Caused by competitors, disgruntled employees, software bots, and angry customers clicking on your ads.</p>
<h2 id="ClickCease"><a href="#ClickCease" class="headerlink" title="ClickCease"></a>ClickCease</h2><p><a href="https://www.clickcease.com" target="_blank" rel="external">ClickCease</a></p>
<ul>
<li>24*7 Always On Click-Fraud Monitoring</li>
<li>Stops Click-Fraud Before It Happens</li>
<li>Business-Specific Click-Fraud detection Rules</li>
<li>Save Money(up to 20%-25% of your advertising budget gets lost due to click fraud)</li>
</ul>
<p>FAQs</p>
<ul>
<li>Doesn’t Google prevent click fraud?<br>Google does detect click fraud, but does not prevent it. Instead, Google will give back credit to your account days after the fraud took place and only after you claim it.</li>
<li>How do you detect fraudulent ad clicks?<br>(1) A HTML code that detects the attacker’s activity on your website.<br>(2) An Adwords tracking template that connects us directly to Google to get unique information regarding each click.</li>
</ul>
<h2 id="PPC-Surge"><a href="#PPC-Surge" class="headerlink" title="PPC Surge"></a>PPC Surge</h2><p><a href="https://www.ppcsurge.com" target="_blank" rel="external">PPC Surge</a><br>Once the Monitor is created, we will insert a tracking URL into your Google Adwords account. When a visitor clicks on your ad the tracking URL directs them to our website where we collect their IP address and other data (e.g., keyword) and redirect them to your site. This happens so quickly that, from the visitor’s perspective, it appears as though he/she simply clicked through to your site directly.</p>
<p>If we detect a potential click fraud, instead of instantly redirecting the visitor to your website, we display a warning message on our site.</p>
<p>If after seeing the warning message the visitor continues to click on your ads, our software tells Google to not display any more ads to that IP address thereby saving your advertising budget.</p>
<h2 id="How-Google-doing-about-it"><a href="#How-Google-doing-about-it" class="headerlink" title="How Google doing about it?"></a>How Google doing about it?</h2><ul>
<li>Advanced algorithms detect and filter out invalid clicks in real time, before advertisers are even charged.</li>
<li>Google’s Ad Traffic Quality Team also conducts manual, offline analysis and removes any clicks that they deem invalid before advertisers are charged.</li>
<li>Google also launches investigations based on advertisers’ reports of suspicious activity.</li>
</ul>
<h2 id="How-to-identify-click-fraud-by-yourself"><a href="#How-to-identify-click-fraud-by-yourself" class="headerlink" title="How to identify click fraud by yourself?"></a>How to identify click fraud by yourself?</h2><p>You need internal reporting. Internal reporting would tell you if that lead became a sale.</p>
<ul>
<li>IP address<br>IP address is pretty self-explanatory.</li>
<li>click timestamp<br>The time when someone arrives on your site after clicking an ad.</li>
<li>action timestamp<br>The time when that person completed an action on your site.<br>If you see an IP address with a bunch of click timestamps but no action timestamps, then that is likely click fraud.</li>
<li>user agent<br>Identify whether someone on a particular IP is the same person.</li>
<li>proxy<br>If the searches are very different, it’s likely a proxy server. If the search queries are similar and are occurring over a super short time period, the clicks are probably fraudulent.</li>
</ul>
<h2 id="4-tips-to-protect-yourself-from-click-happy-criminals"><a href="#4-tips-to-protect-yourself-from-click-happy-criminals" class="headerlink" title="4 tips to protect yourself from click-happy criminals"></a>4 tips to protect yourself from click-happy criminals</h2><ul>
<li>Turn to Facebook/Twitter Ads<br>社交网络没有第三方发布者，他们往往是主要的点击诈骗的来源。恶意竞争者也很少见，因为有先进的定位选择。Set up IP Exclusions in AdWords</li>
<li>Run GDN Remarketing Campaigns（只发部给到过网站的人看）<br>不是很懂</li>
<li>Adjust Your Ad Targeting<br>排除一些劳动力便宜的地点或语言（click farms）<h2 id="To-be-Continued"><a href="#To-be-Continued" class="headerlink" title="To be Continued"></a>To be Continued</h2></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/03/27/Click Fraud/" data-id="cj5sz7kzv00026y4mq7hd1qo4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Tracking user with browser fingerprint" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/27/Tracking user with browser fingerprint/" class="article-date">
  <time datetime="2017-03-27T12:47:24.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/27/Tracking user with browser fingerprint/">Tracking user with browser&#39; fingerprint</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Single-browser"><a href="#Single-browser" class="headerlink" title="Single-browser"></a>Single-browser</h2><h3 id="state-of-the-art"><a href="#state-of-the-art" class="headerlink" title="state of the art"></a>state of the art</h3><h4 id="Paper"><a href="#Paper" class="headerlink" title="Paper"></a>Paper</h4><blockquote>
<p><a href="https://hal.inria.fr/hal-01285470/file/beauty-sp16.pdf" target="_blank" rel="external">Beauty and the Beast: Diverting modern web browsers to build unique browser fingerprints</a></p>
</blockquote>
<h4 id="Website"><a href="#Website" class="headerlink" title="Website"></a>Website</h4><blockquote>
<p><a href="https://amiunique.org/" target="_blank" rel="external">AmIUnique</a></p>
</blockquote>
<h4 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h4><table>
<thead>
<tr>
<th style="text-align:left">Attribute</th>
<th style="text-align:center">Source</th>
<th style="text-align:right">Function or Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">User agent</td>
<td style="text-align:center">HTTP header</td>
<td style="text-align:right">“Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36”</td>
</tr>
<tr>
<td style="text-align:left">Accept</td>
<td style="text-align:center">HTTP header</td>
<td style="text-align:right">“text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<em>/</em>;q=0.8””text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<em>/</em>;q=0.8”</td>
</tr>
<tr>
<td style="text-align:left">Content encoding</td>
<td style="text-align:center">HTTP header</td>
<td style="text-align:right">“gzip, deflate, sdch, br”</td>
</tr>
<tr>
<td style="text-align:left">Content language</td>
<td style="text-align:center">HTTP header</td>
<td style="text-align:right">“en-US,en;q=0.8”</td>
</tr>
<tr>
<td style="text-align:left">List of plugins</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">navigator.plugins</td>
</tr>
<tr>
<td style="text-align:left">Platform</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">navigator.platform</td>
</tr>
<tr>
<td style="text-align:left">Cookies enabled</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">navigator.cookieEnabled</td>
</tr>
<tr>
<td style="text-align:left">Do not track</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">navigator.doNotTrack</td>
</tr>
<tr>
<td style="text-align:left">Timezone</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">new Date().getTimezoneOffset()</td>
</tr>
<tr>
<td style="text-align:left">Screen resolution and depth</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">screen.width/height/colordepth</td>
</tr>
<tr>
<td style="text-align:left">Use of local/session storage</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">localStorage/sessionStorage</td>
</tr>
<tr>
<td style="text-align:left"><strong>Canvas</strong></td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td style="text-align:left">WebGL Vendor</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">canvas.getContext(“…”)<sup>code 1</sup></td>
</tr>
<tr>
<td style="text-align:left">WebGL Render</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right">canvas.getContext(“…”)<sup>code 1</sup></td>
</tr>
<tr>
<td style="text-align:left">Use of Adblock</td>
<td style="text-align:center">JavaScript</td>
<td style="text-align:right"><a href="http://www.detectadblock.com/" target="_blank" rel="external">Detect Adblock</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>List of fonts</strong></td>
<td style="text-align:center">Sinde-channel</td>
<td style="text-align:right"><a href="https://seclab.cs.ucsb.edu/media/uploads/papers/sp2013_cookieless.pdf" target="_blank" rel="external">List 1 in Cookieless Monster<sup>code 2</sup></a></td>
</tr>
<tr>
<td style="text-align:left"><em>List of fonts</em></td>
<td style="text-align:center">Flash</td>
<td style="text-align:right">flash.text.Font.enumerateFonts(true)</td>
</tr>
<tr>
<td style="text-align:left"><em>Screen resolution</em></td>
<td style="text-align:center">Flash</td>
<td style="text-align:right">flash.system.Capabilities.screenResolutionX/Y</td>
</tr>
<tr>
<td style="text-align:left"><em>Platform</em></td>
<td style="text-align:center">Flash</td>
<td style="text-align:right">flash.system.Capabilities.os</td>
</tr>
<tr>
<td style="text-align:left"><em>Language</em></td>
<td style="text-align:center">Flash</td>
<td style="text-align:right">flash.system.Capabilities.language</td>
</tr>
</tbody>
</table>
<blockquote>
<p>code 1<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"webgl"</span>) || canvas.getContext(<span class="string">"experimental-webgl"</span>);</div><div class="line"><span class="keyword">if</span>(ctx.getSupportedExtensions().indexOf(<span class="string">"WEBGL_debug_renderer_info"</span>) &gt;= <span class="number">0</span>) &#123;</div><div class="line">    webGLVendor = ctx.getParameter(ctx.getExtension(<span class="string">'WEBGL_debug_renderer_info'</span>).UNMASKED_VENDOR_WEBGL);</div><div class="line">    webGLRenderer = ctx.getParameter(ctx.getExtension(<span class="string">'WEBGL_debug_renderer_info'</span>).UNMASKED_RENDERER_WEBGL);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    webGLVendor = <span class="string">"Not supported"</span>;</div><div class="line">    webGLRenderer = <span class="string">"Not supported"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>code 2<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_text_dimensions</span>(<span class="params">font</span>)</span>&#123;</div><div class="line">  h = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"BODY"</span>)[<span class="number">0</span>];</div><div class="line">  d = <span class="built_in">document</span>.createElement(<span class="string">"DIV"</span>);</div><div class="line">  s = <span class="built_in">document</span>.createElement(<span class="string">"SPAN"</span>);</div><div class="line">  d.appendChild(s);</div><div class="line">  d.style.fontFamily = font;</div><div class="line">  s.style.fontFamily = font;</div><div class="line">  s.style.fontSize = <span class="string">"72px"</span>;</div><div class="line">  s.innerHTML = <span class="string">"font_detection"</span>;</div><div class="line">  h.appendChild(d);</div><div class="line">  textWidth = s.offsetWidth;</div><div class="line">  textHeight = s.offsetHeight;</div><div class="line">  h.removeChild(d);</div><div class="line">  <span class="keyword">return</span> [textWidth, textHeight];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="How-to-detect-a-specific-Chrome-extension-is-installed-from-regular-HTML-page"><a href="#How-to-detect-a-specific-Chrome-extension-is-installed-from-regular-HTML-page" class="headerlink" title="How to detect a specific Chrome extension is installed from regular HTML page"></a>How to detect a specific Chrome extension is installed from regular HTML page</h4><p>Each submitted extension on Chrome store has a special number.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">detectExtension</span>(<span class="params">extensionId, callback</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> img;</div><div class="line">    img = <span class="keyword">new</span> Image();</div><div class="line">    img.src = <span class="string">"chrome-extension://"</span> + extensionId + <span class="string">"/resources/icon_16.png"</span>;</div><div class="line">    img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        callback(<span class="literal">true</span>);</div><div class="line">    &#125;;</div><div class="line">    img.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        callback(<span class="literal">false</span>);</div><div class="line">    &#125;;</div></pre></td></tr></table></figure></p>
<h2 id="Cross-browser"><a href="#Cross-browser" class="headerlink" title="Cross-browser"></a>Cross-browser</h2><h4 id="Paper-1"><a href="#Paper-1" class="headerlink" title="Paper"></a>Paper</h4><p><a href="http://yinzhicao.org/TrackingFree/crossbrowsertracking_NDSS17.pdf" target="_blank" rel="external">(Cross-)Browser Fingerprinting via OS and Hardware Level Features</a></p>
<h4 id="Website-1"><a href="#Website-1" class="headerlink" title="Website"></a>Website</h4><p><a href="http://uniquemachine.org/index.html" target="_blank" rel="external">UNIQUEMACHINE</a></p>
<h4 id="Weakness"><a href="#Weakness" class="headerlink" title="Weakness"></a>Weakness</h4><ul>
<li>Small size of the training data<br>Only 3,615 fingerprints from 1,903 users within three months.</li>
<li>WebGL tasks need a significant time overhead.</li>
</ul>
<h4 id="Contribution"><a href="#Contribution" class="headerlink" title="Contribution"></a>Contribution</h4><ul>
<li>AmIUnique considered WebGL is “too brittle and unreliable”. Because they select a random WebGL task and does not restrict many variables, such as texture, transparency, light, canvas size and anti-aliasing.</li>
<li>Some differences between rendering results are very subtle, i.e., with one or two pixel variance.</li>
<li>WebGL rendering is a combination of software and hardware in which the hardware contributes more than the software. The uniqueness of software rendering is definitely much lower than the one of hardware rendering but still not zero.</li>
</ul>
<h4 id="Features-1"><a href="#Features-1" class="headerlink" title="Features"></a>Features</h4><h5 id="Screen-resolution"><a href="#Screen-resolution" class="headerlink" title="Screen resolution"></a>Screen resolution</h5><ul>
<li><strong>problem:</strong> The resolution changes in Firefox and IE when the user zooms in or out the web page.</li>
<li><strong>method:</strong><ul>
<li>Detect the zoom levels based on the size of a div tag and the device pixel ratio, and then adjust the screen resolution correspondingly.</li>
<li>The ratio between screen width and height, which does not change with the zoom level.</li>
</ul>
</li>
<li><strong>addition:</strong><ul>
<li>availHeight, availWidth, availLeft, availTop, and screenOrientation.</li>
<li>Users may open different browser in  different screens which have different resolutions.</li>
</ul>
</li>
</ul>
<h5 id="Number-of-CPU-virtual-cores"><a href="#Number-of-CPU-virtual-cores" class="headerlink" title="Number of CPU virtual cores"></a>Number of CPU virtual cores</h5><ul>
<li><strong>method:</strong> navigator.hardwareConcurrency</li>
<li><strong>addition:</strong> Safari will cut the number available cores to Web Workers by half.</li>
</ul>
<h5 id="AudioContext"><a href="#AudioContext" class="headerlink" title="AudioContext"></a>AudioContext</h5><p>Peak values and their corresponding frequencies are relatively stable across browsers.</p>
<ul>
<li><strong>paper:</strong> <a href="http://randomwalker.info/publications/OpenWPM_1_million_site_tracking_measurement.pdf" target="_blank" rel="external">Online Tracking:<br>A 1-million-site Measurement and Analysis</a></li>
<li><strong>problem:</strong> The entropy is much smaller than the entire entropy of the entire wave.</li>
</ul>
<h5 id="List-of-fonts"><a href="#List-of-fonts" class="headerlink" title="List of fonts"></a>List of fonts</h5><ul>
<li><strong>problem:</strong> Not all fonts are cross-browser fingerprintable because some fonts are web specific and provided by browsers.</li>
</ul>
<h5 id="Line-curve-and-anti-aliasing"><a href="#Line-curve-and-anti-aliasing" class="headerlink" title="Line, curve and anti-aliasing"></a>Line, curve and anti-aliasing</h5><p>There are many existing algorithms for anti-aliasing, such as first-principles approach, signal processing approach, and mipmapping, which make anti-aliasing fingerprintable.</p>
<h5 id="Vertex-shader-and-fragment-shader"><a href="#Vertex-shader-and-fragment-shader" class="headerlink" title="Vertex shader and fragment shader"></a>Vertex shader and fragment shader</h5><p>Algorithm differs from one graphic card to another, making texture fingerprintable.</p>
<ul>
<li><strong>Varyings:</strong> Provide an interface between Vertex and Fragment Shader. The interpolation algorithm varies in different computer graphics cards.</li>
<li><strong>Textures:</strong> Give a setting of mapping between vertexes and texture, a fragment shader calculates the color of each pixel based on the texture.</li>
</ul>
<h5 id="Transparency-via-Alpha-Channel"><a href="#Transparency-via-Alpha-Channel" class="headerlink" title="Transparency via Alpha Channel"></a>Transparency via Alpha Channel</h5><p>Because some graphics cards adopt discrete alpha values, some jumps may be observed in the changes of transparency effects.</p>
<h5 id="Image-encoding-and-decoding"><a href="#Image-encoding-and-decoding" class="headerlink" title="Image encoding and decoding"></a>Image encoding and decoding</h5><p>Different algorithms may uncover different information during decompression. Both DataURL and JPEG formats are unstable across different browsers, because these formats are with loss and implemented differently in multiple browsers and the server side as well.</p>
<ul>
<li><strong>problem:</strong> a single-browser feature, and cannot be used for cross-browser</li>
</ul>
<h5 id="Installed-writing-scripts-languages"><a href="#Installed-writing-scripts-languages" class="headerlink" title="Installed writing scripts (languages)"></a>Installed writing scripts (languages)</h5><p>A browser with a particular language installed will display the language correctly, and otherwise show several boxes.</p>
<h4 id="WebGL-tasks"><a href="#WebGL-tasks" class="headerlink" title="WebGL tasks"></a>WebGL tasks</h4><p>The size of the canvas is 256×256. The axes of the canvas are defined as follows. [0, 0, 0] is the middle of the canvas, where x-axis is the horizontal line that increases to the right, y-axis is the vertical line that increases to the bottom, and z-axis increases when moving far from the screen. An ambient light with the power of [R: 0.3, G: 0.3, B: 0.3] on a scale of 1 is present, and a camera is placed at the location of [0, 0, -7].</p>
<ul>
<li><p>Task (a): Texture<br>Randomly-generated texture rather than a regular will have more fingerprintable features.</p>
</li>
<li><p>Task (b): Varyings</p>
</li>
<li><p>Task (b’) Anti-aliasing + Varyings</p>
</li>
<li><p>Task (c) Camera（缩小立方体，减少了差异）<br>Camera moved to a new location of [-1, -4, 10]</p>
</li>
<li><p>Task (d) Lines and curves</p>
</li>
<li><p>Task (d’) Anti-aliasing +Anti-aliasing + Lines and curves</p>
</li>
<li><p>Task (e) Multi-models<br>信息熵比Task a就大了0.01</p>
</li>
<li><p>Task (f) Light<br>a diffuse, point white light. The power of the light is 2 for each primary color, and the light source is located at [3.0, -4.0, -2.0].<br>模型是彩色的，单色光可能会减少一些细微的差异。光照太弱不能照亮模型，太强会让所有都变成白色。位置是随机的。<br>信息熵比Task a就大了一点点</p>
</li>
<li><p>Task (g) Light and models<br>the interaction of a single, diffuse, point light and two models, because one model may create a shadow on another when illuminated by a point light.<br>信息熵比Task f就大了一点点信息熵就大了0.03</p>
</li>
<li><p>Task (h) Specular Light<br>test the effects of a diffuse point light with another color and a specular point light on two models.<br>信息熵比Task e大了0.9（f比e大了0.01）</p>
</li>
<li><p>Task (h’) Anti-aliasing + Specular Light</p>
</li>
<li><p>Task (h”) Anti-aliasing + Specular Light + Rotation<br>信息熵减小，稳定性增加，转了一面，信息变少了</p>
</li>
<li><p>Task (i) Two Textures（差了，第一层纹理是精心挑选的）<br>Add another texture on the multi-models in Task e.</p>
</li>
<li><p>Task (j) Alpha</p>
<ul>
<li>many GPUs do not accept smaller steps</li>
<li>the Suzanne and sofa models are positioned so that they are partially overlapped<br>增加alpha的值，趋势是信息熵变大，但是有反反复复的回滚，原因是software rendering引起的</li>
</ul>
</li>
<li><p>Task (k) Complex lights<br>因为有5000多个模型，光的反射又互相影响，所以效果拔群</p>
</li>
<li><p>Task (k’) Anti-aliasing + Complex lights</p>
</li>
<li><p>Task (l) Clipping plane<br>贡献不大</p>
</li>
<li><p>Task (m) Cubemap texture + Fresnel effect<br>比较好，信息多cube map</p>
</li>
<li><p>Task (n) DDS textures<br>微软那一套，一些浏览器不支持</p>
</li>
<li><p>Task (o) PVR textures<br>只支持苹果设备</p>
</li>
<li><p>Task (p) Float textures<br>比较好，信息多depth</p>
</li>
<li><p>Task (q) Video (Animating Textures)<br>single-browser的效果好。decoding video is a combination of the browser, the driver, and sometimes the hardware as well.</p>
</li>
<li>Task (r) Writing Scripts</li>
</ul>
<h2 id="To-be-continued"><a href="#To-be-continued" class="headerlink" title="To be continued"></a>To be continued</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/03/27/Tracking user with browser fingerprint/" data-id="cj5sz7kzw00036y4m8hrjaq5t" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Basic Principles of Information Protect" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/27/Basic Principles of Information Protect/" class="article-date">
  <time datetime="2017-03-27T12:47:24.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/27/Basic Principles of Information Protect/">Basic Principles of Information Protect</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://web.mit.edu/Saltzer/www/publications/protection/Basic.html" target="_blank" rel="external">Basic Principles of Information Protect</a></p>
<p>An externally administered code of ethics or a lack of knowledge about computers adequately protects the stored information.<br>The protection mechanisms not only protect one user from another, they may also protect their own implementation.<br>A narrow view is dangerous. It is hard to prove that this negative requirement has been achieved</p>
<h2 id="Considerations-Surrounding-the-Study-of-Protection"><a href="#Considerations-Surrounding-the-Study-of-Protection" class="headerlink" title="Considerations Surrounding the Study of Protection"></a>Considerations Surrounding the Study of Protection</h2><h3 id="Examples-of-security-techniques-sometimes-applied-to-computer-systems-are-the-following"><a href="#Examples-of-security-techniques-sometimes-applied-to-computer-systems-are-the-following" class="headerlink" title="Examples of security techniques sometimes applied to computer systems are the following:"></a>Examples of security techniques sometimes applied to computer systems are the following:</h3><ul>
<li>labeling files with lists of authorized users,</li>
<li>verifying the identity of a prospective user by demanding a password,</li>
<li>shielding the computer to prevent interception and subsequent interpretation of electromagnetic radiation,</li>
<li>enciphering information sent over telephone lines,</li>
<li>locking the room containing the computer,</li>
<li>controlling who is allowed to make changes to the computer system (both its hardware and software),</li>
<li>using redundant circuits or programmed cross-checks that maintain security in the face of hardware or software failures,</li>
<li>certifying that the hardware and software are actually implemented as intended.</li>
</ul>
<h3 id="Functional-Levels-of-Information-Protection"><a href="#Functional-Levels-of-Information-Protection" class="headerlink" title="Functional Levels of Information Protection:"></a>Functional Levels of Information Protection:</h3><ul>
<li>unprotected system</li>
<li>before release<ul>
<li>all-or-nothing system</li>
<li>controlled sharing</li>
<li>user_programmed sharing controls</li>
</ul>
</li>
<li>after release<ul>
<li>putting strings on information</li>
</ul>
</li>
</ul>
<h3 id="Design-principles"><a href="#Design-principles" class="headerlink" title="Design principles"></a>Design principles</h3><ul>
<li>Economy of mechanism(simple and small)</li>
<li>faill-safe default(white list)</li>
<li>complete mediation</li>
<li>open design</li>
<li>separation of privilege</li>
<li>least privilege</li>
<li>least common mechanism</li>
<li>psychological acceptability</li>
<li>two further design principles<ul>
<li>work factor</li>
<li>compromise recording</li>
</ul>
</li>
</ul>
<h2 id="Technical-Underpinnings"><a href="#Technical-Underpinnings" class="headerlink" title="Technical Underpinnings"></a>Technical Underpinnings</h2><h3 id="development-plan"><a href="#development-plan" class="headerlink" title="development plan"></a>development plan</h3><ul>
<li>from the top down: a subject is coherent and self-contained</li>
<li>bottom-up: a topic still containing ad hoc strategies and competing world views</li>
</ul>
<h3 id="essentials-of-information-protection"><a href="#essentials-of-information-protection" class="headerlink" title="essentials of information protection"></a>essentials of information protection</h3><ul>
<li>protect</li>
<li>authenticate</li>
</ul>
<h3 id="an-isolated-virtual-machine"><a href="#an-isolated-virtual-machine" class="headerlink" title="an isolated virtual machine"></a>an isolated virtual machine</h3><ul>
<li>descriptor register</li>
<li>privileged bit</li>
<li>supervisor</li>
</ul>
<h3 id="authentication-mechanisms"><a href="#authentication-mechanisms" class="headerlink" title="authentication mechanisms"></a>authentication mechanisms</h3><ul>
<li>password<ul>
<li>easy to guess</li>
<li>exposed to be used</li>
</ul>
</li>
</ul>
<h3 id="shared-information"><a href="#shared-information" class="headerlink" title="shared information"></a>shared information</h3><ul>
<li>list-oriented(high-level)</li>
<li>ticket-oriented(low-level)</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/03/27/Basic Principles of Information Protect/" data-id="cj5sz7kzs00016y4mmy0pify9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-AndroidEmulator" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/27/AndroidEmulator/" class="article-date">
  <time datetime="2017-03-27T12:47:22.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/27/AndroidEmulator/">Android Emulator on Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="How-to-Resize-Android-4-4-Emulator-Internal-Storage"><a href="#How-to-Resize-Android-4-4-Emulator-Internal-Storage" class="headerlink" title="How to Resize Android 4.4 Emulator Internal Storage"></a>How to Resize Android 4.4 Emulator Internal Storage</h2><p><a href="http://stackoverflow.com/questions/20579606/android-4-4-virtual-device-internal-storage-will-not-resize#comment44086027_20762411" target="_blank" rel="external">Question on StackOverFlow</a></p>
<p><strong>Problem</strong>:</p>
<p>When creating a new Android 4.4 Virtual Device using the AVD Manager, I cannot get the internal storage to be anything larger than 200MB.</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Now that the emulator file system is ext4 I was able to re-size the userdata.img using standard Linux tools.</li>
<li>Even above suggestion can cause to android emulator hang on boot logo. The reason is that resize2fs do the changes thats are right in general but considered as broken fs by android and prevent it to mount it in rw mode, that hangs up the boot process.</li>
<li>Event e2fsck does not fix it for android and to workaround it i use tune2fs to change the way how android should continue to mount broken fs.</li>
</ul>
<ol>
<li>start emulator</li>
<li>cd ~/.android/avd/emulator_name</li>
<li>rm userdata-qemu.*</li>
<li>resize2fs userdata.img 1024M</li>
<li>start than stop emulator</li>
<li>e2fsck -f userdata-qemu.img</li>
<li>resize2fs userdata-qemu.img 1024M</li>
<li>tune2fs -e continue userdata-qemu.img</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://wu-yuanyi.github.io/2017/03/27/AndroidEmulator/" data-id="cj5sz7kzo00006y4mt9jgqqow" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/08/01/Event tracking/">Event tracking</a>
          </li>
        
          <li>
            <a href="/2017/08/01/mySQL grammar/">MySQL grammer</a>
          </li>
        
          <li>
            <a href="/2017/06/16/study sas/">SAS学习心得</a>
          </li>
        
          <li>
            <a href="/2017/04/16/利用python 3进行数据分析/">利用python 3.6进行数据分析</a>
          </li>
        
          <li>
            <a href="/2017/04/11/happybase/">Start with happybase on Mac</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Yuanyi Wu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>